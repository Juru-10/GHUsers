<ng-progress></ng-progress>

<h1>GitHub Users Finder</h1><hr>

<div class="container-fluid">
  <form (ngSubmit)='findUser()' #userForm='ngForm'>
    <div class="form-group">
      <label for="username">Enter the User Username</label>
      <input type="text" class="form-control" id="username" [(ngModel)]="usernameText" name="username" #username="ngModel" (keyup)='findUser()' required>

      <div [hidden]="username.valid||username.pristine" class="alert alert-danger">
        <p>The Username is Required</p>
      </div>
    </div>
  </form>
</div>

<div class="container">

  <div *ngIf="profile" class="row">
    <div class="col-md-4">
      <h3>{{profile.name}}</h3>
      <img src="{{profile.avatar_url}}" alt="Profile Image">
      <h3>{{profile.login}}</h3>
      <h5>Profile Created {{profile.created_at|date|dateCountPipe}} years ago</h5>
    </div>

    <div class="col-md-4">
      <div class="prof">
        <h5 *ngIf="profile.company">Works at {{profile.company}}</h5>
        <h6><a href="{{profile.html_url}}">Link to GitHub Profile</a></h6>
        <h6>{{profile.public_repos}} Public <a href="{{profile.repos_url}}">Repositories</a> on GitHub</h6>
      </div>
    </div>

    <div class="col-md-4">
      <h3>Repositories and their links to GitHub</h3>
      <div class="repo" *ngFor="let repo of repos">
        <ul>
          <li>
            <h4 id="{{i}}" appStrikethrough>{{repo.name}} <a href="{{repo.html_url}}">On GitiHub</a></h4>
            <p>{{repo.description}}</p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
